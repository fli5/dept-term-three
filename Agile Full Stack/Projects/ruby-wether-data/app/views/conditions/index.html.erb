<!-- app/views/weather_conditions/index.html.erb -->
<div class="row mb-4">
  <div class="col-12">
    <h1>Weather Conditions</h1>
    <p class="lead">Browse all standardized weather condition types.</p>
  </div>
</div>

<div class="row">
  <% if @weather_conditions.any? %>
    <% @weather_conditions.each do |condition| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100">
          <div class="card-header bg-info text-white">
            <h4 class="mb-0"><%= condition.condition_name %></h4>
            <small>Code: <%= condition.condition_code %></small>
          </div>
          <div class="card-body">
            <% if condition.condition_icon.present? %>
              <div class="text-center mb-3">
                <span style="font-size: 3rem;"><%= condition.condition_icon %></span>
              </div>
            <% end %>

            <% if condition.condition_desc.present? %>
              <p class="card-text"><%= truncate(condition.condition_desc, length: 120) %></p>
            <% else %>
              <p class="card-text text-muted">No description available.</p>
            <% end %>

            <p class="mb-0"><small class="text-muted">
              Readings: <%= condition.weather_readings.count %>
            </small></p>
          </div>
          <div class="card-footer bg-light">
            <%= link_to "View Details", condition_path(condition), class: "btn btn-info btn-sm" %>
            <%= link_to "View Readings", readings_condition_path(condition), class: "btn btn-primary btn-sm" %>
          </div>
        </div>
      </div>
    <% end %>

    <div class="col-12">
      <div class="d-flex justify-content-center mt-4">
        <%= paginate @weather_conditions %>
      </div>
    </div>
  <% else %>
    <div class="col-12">
      <div class="alert alert-info">
        <p>No weather conditions found.</p>
      </div>
    </div>
  <% end %>
</div>