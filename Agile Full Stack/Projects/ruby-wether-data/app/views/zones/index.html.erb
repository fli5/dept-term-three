<!-- app/views/climate_zones/index.html.erb -->
<div class="row mb-4">
  <div class="col-12">
    <h1>Climate Zones</h1>
    <p class="lead">Explore different climate classifications based on the KÃ¶ppen climate classification system.</p>
  </div>
</div>

<div class="row">
  <% if @climate_zones.any? %>
    <% @climate_zones.each do |zone| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100">
          <div class="card-header bg-primary text-white">
            <h4 class="mb-0"><%= zone.zone_name %></h4>
            <small>Code: <%= zone.zone_code %></small>
          </div>
          <div class="card-body">
            <% if zone.zone_desc.present? %>
              <p class="card-text"><%= truncate(zone.zone_desc, length: 150) %></p>
            <% else %>
              <p class="card-text text-muted">No description available.</p>
            <% end %>

            <p class="mb-1"><small class="text-muted">
              Cities in this zone: <%= zone.cities.count %>
            </small></p>
          </div>
          <div class="card-footer bg-light">
            <%= link_to "View Details", zone_path(zone), class: "btn btn-primary btn-sm" %>
            <%= link_to "View Cities", cities_zone_path(zone), class: "btn btn-success btn-sm" %>
          </div>
        </div>
      </div>
    <% end %>

    <div class="col-12">
      <div class="d-flex justify-content-center mt-4">
        <%= paginate @climate_zones %>
      </div>
    </div>
  <% else %>
    <div class="col-12">
      <div class="alert alert-info">
        <p>No climate zones found.</p>
      </div>
    </div>
  <% end %>
</div>